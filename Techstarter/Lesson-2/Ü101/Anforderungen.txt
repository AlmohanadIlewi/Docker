Ü101 - Container 2

Martin | 22.09.2023 

Aufgabe 1
Im Repository unter https://github.com/martindubb/docker-task.git findet ihr eine einfache NodeJS App. Beschreibe kurz, was die App macht. 

Aufgabe 2
Klone das Repo auf deinen Rechner und starte die App. 
Stelle sicher, dass die App den Log Output in eine Datei namens “output.log” schreibt, ohne den Code zu ändern! Wie kann das bewerkstelligt werden?
(Tipp: Zeile 6-8 in der app.js)
Erstelle einen Screenshot für die Abgabe.

Aufgabe 3
Containerisiere die App! 
Schreibe ein Dockerfile, welches ein alpine-Image nutzt und in dem NodeJS zur Verfügung steht. 
Baue das Image und vergib den Namen “simple-node-app”. Liste alle Images von deinem Hostsystem auf.
Erstelle einen Screenshot für die Abgabe.

Aufgabe 4
Starte einen Container vom zuvor erstellten Image “simple-node-app”.
Stelle sicher, dass die App auf deinem Hostsystem erreichbar ist (Stichwort Port-Binding).
Erstelle einen Screenshot für die Abgabe und stoppe den Container wieder.
Starte einen Container und stelle wie in Aufgabe 2 sicher, 
dass die App den Log Output in eine Datei namens “output.log” schreibt, ohne den Code in der Datei app.js zu ändern. 
Welche Option muss dafür beim Start des Containers mitgegeben werden? 
(Tipp: Umgebungsvariablen können auch im “docker run”-Befehl angegeben werden)
Erstelle einen Screenshot für die Abgabe und stoppe den Container wieder.
Erstelle einen separaten Ordner und eine Textdatei mit dem Namen “output.log” auf deinem Hostsystem. 
Nutze einen Bind-Mount, um den Ordner und die Datei im Container zur Verfügung zu stellen und starte den Container wie im Aufgabenteil b). 
Der Log Output sollte nun in der Datei auf deinem Hostsystem erscheinen!
Erstelle einen Screenshot für die Abgabe und stoppe den Container wieder.


Hilfen:
Ports: https://docs.docker.com/engine/reference/commandline/run/#publish
env: https://docs.docker.com/engine/reference/commandline/run/#env
mount: https://docs.docker.com/engine/reference/commandline/run/#mount


PS C:\Users\amira\Docker2\docker-task\neueDestination> docker run -d --name neuer-container-name1 -p 8082:8080 --mount type=bind,source=C:\Users\amira\Docker2\docker-task,destination=/app/neuOdrner -e LOGFILE=output.log simple-node-app